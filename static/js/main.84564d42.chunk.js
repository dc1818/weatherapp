(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(t,e,a){},,,function(t,e,a){t.exports=a(29)},,,,,,,function(t,e,a){},,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),o=a(12),r=a.n(o),i=(a(10),a(4)),l=a(5),c=a(8),u=a(6),d=a(1),h=a(7),p=function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(c.a)(this,Object(u.a)(e).call(this,t))).state={displayLabel:!0,enterTyped:!1,displayformPage:!0,inputValue:""},a.checkForEnter=a.checkForEnter.bind(Object(d.a)(a)),a.changeDisplayLabelStatus=a.changeDisplayLabelStatus.bind(Object(d.a)(a)),a.updateInput=a.updateInput.bind(Object(d.a)(a)),a.inputbox=s.a.createRef(),a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.mounted=!0,document.addEventListener("keydown",this.checkForEnter),console.log(this.props.displayStatus),a(10)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.checkForEnter)}},{key:"checkForEnter",value:function(t){13===t.keyCode&&""!==this.state.inputValue?(this.setState({enterTyped:!0,displayFormPage:!1}),this.props.displayStatus(!1),this.props.inputValue(this.state.inputValue),console.log(this.state.enterTyped)):this.inputbox.current.focus()}},{key:"changeDisplayLabelStatus",value:function(t){""===this.state.inputValue&&this.setState({displayLabel:!0}),this.setState({displayLabel:t})}},{key:"updateInput",value:function(t){this.state.inputValue.length>15?(this.setState({font:"400%"}),console.log(this.state.inputValue.length)):0===this.state.inputValue.length&&this.setState({font:"1000%"}),this.setState({inputValue:t.target.value})}},{key:"render",value:function(){var t,e=this;return!0===this.state.displayLabel&&(t=s.a.createElement("label",{id:"citylabel"},"Enter your location")),s.a.createElement("div",{class:"mainpage"},s.a.createElement("div",{id:"pagetitle"},"Weather Finder"),s.a.createElement("div",{id:"myname"},"App by Dalton Cornwell"),s.a.createElement("div",{onClick:function(){e.changeDisplayLabelStatus(!0)},id:"entirepage"}),s.a.createElement("div",{id:"labelcontainer"},t),s.a.createElement("div",{id:"inputbox"},s.a.createElement("textarea",{style:{fontSize:this.state.font,overflow:"hidden"},ref:this.inputbox,onClick:function(){e.changeDisplayLabelStatus(!1)},onChange:function(t){e.changeDisplayLabelStatus(!1,e),e.updateInput(t)},onBlur:function(){e.changeDisplayLabelStatus(!0)},autoFocus:!0,spellcheck:"false",id:"cityinput",type:"text",maxlength:"50"}),console.log(this.state.inputValue)),s.a.createElement("script",{src:"mainscript.js"}))}}]),e}(s.a.Component),m=a(2),y=a.n(m),g=a(9);a(20),a(21);var v=function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(c.a)(this,Object(u.a)(e).call(this,t))).state={shortForecast:null,location:a.props.location,html:s.a.createElement("div",null)},a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"runGeoCodeApi",value:function(){var t=Object(g.a)(y.a.mark(function t(){var e,a,n,s;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({loadingBarProgress:0}),t.next=3,fetch("http://www.mapquestapi.com/geocoding/v1/address?key=UnKAjeHAB6sFQGrli30eJCYQis96tuaO&location=".concat(this.props.location));case 3:return e=t.sent,t.next=6,e.json();case 6:return a=t.sent,t.next=9,a.results[0].locations[0];case 9:return n=t.sent,console.log(n),t.next=13,[n.displayLatLng.lat,n.displayLatLng.lng];case 13:return s=t.sent,this.setState({city:n.adminArea5,country:n.adminArea1}),t.abrupt("return",s);case 16:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"runWeatherApi",value:function(){var t=Object(g.a)(y.a.mark(function t(e){var a,n,s,o,r,i,l;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.weather.gov/points/".concat(e[0],",").concat(e[1]),{mode:"cors"});case 2:return a=t.sent,t.next=5,a.json();case 5:if(404!==(n=t.sent).status){t.next=12;break}console.log(n.status),this.setState({shortForecast:404}),this.props.dataReady(!0),t.next=28;break;case 12:return s=n.properties.forecast,t.next=15,fetch(s);case 15:return o=t.sent,t.next=18,o.json();case 18:return r=t.sent,t.next=21,r.properties.periods[0];case 21:return i=t.sent,console.log(i),l=i.shortForecast,this.setState({name:i.name,shortForecast:l,temperature:i.temperature,temperatureUnit:i.temperatureUnit,windDirection:i.windDirection,windSpeed:i.windSpeed}),this.props.dataReady(!0),console.log(this.state),t.abrupt("return",i);case 28:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"requireCSSCheck",value:function(){console.log("run css checker"),""!==this.state.city&&"mostly sunny"===this.state.shortForecast.toString().toLowerCase()||"partly cloudy"===this.state.shortForecast.toString().toLowerCase()||"mostly cloudy"===this.state.shortForecast.toString().toLowerCase()||"partly sunny"===this.state.shortForecast.toString().toLowerCase()?(console.log("mostly sunny css loaded"),a(24)):"cloudy"===this.state.shortForecast.toString().toLowerCase()?(console.log("cloudy css loaded"),a(25)):"sunny"===this.state.shortForecast.toString().toLowerCase()?(console.log("sunny css loaded"),a(26)):this.state.shortForecast.toString().toLowerCase().indexOf("rain")>-1||this.state.shortForecast.toString().toLowerCase().indexOf("showers")>-1?(console.log("rain css loaded"),a(27)):404!==this.state.shortForecast&&""!==this.state.city||(console.log("404 css loaded"),a(28))}},{key:"setHtml",value:function(){var t=this;console.log("run html checker"),""!==this.state.city&&"mostly sunny"===this.state.shortForecast.toString().toLowerCase()||"partly cloudy"===this.state.shortForecast.toString().toLowerCase()||"mostly cloudy"===this.state.shortForecast.toString().toLowerCase()||"partly sunny"===this.state.shortForecast.toString().toLowerCase()?(console.log("mostly sunny html loaded"),this.setState({html:s.a.createElement("div",{id:"wholecontainer"},s.a.createElement("div",{class:"wrapper"},s.a.createElement("div",{class:"round round1"}),s.a.createElement("div",{class:"round round2"}),s.a.createElement("div",{class:"round sun"})))})):"sunny"===this.state.shortForecast.toString().toLowerCase()?(console.log("sunny html loaded"),this.setState({html:s.a.createElement("div",{id:"wholecontainer"},s.a.createElement("div",{class:"wrapper"},s.a.createElement("div",{class:"round round1"}),s.a.createElement("div",{class:"round sun"})))})):"cloudy"===this.state.shortForecast.toString().toLowerCase()?(console.log("cloudy html loaded"),this.setState({html:s.a.createElement("div",{class:"wrapper"},s.a.createElement("div",{class:"round round1"}),s.a.createElement("div",{class:"round round2"}))})):this.state.shortForecast.toString().toLowerCase().indexOf("rain")>-1||this.state.shortForecast.toString().toLowerCase().indexOf("showers")>-1?(console.log("rain html loaded"),this.setState({html:s.a.createElement("div",{class:"wrapper"},s.a.createElement("div",{class:"round round1"}),s.a.createElement("div",{class:"round round2"}),s.a.createElement("div",{class:"raindrop"}),s.a.createElement("div",{class:"raindrop"}),s.a.createElement("div",{class:"raindrop"}),s.a.createElement("div",{class:"raindrop"}),s.a.createElement("div",{class:"raindrop"}),s.a.createElement("div",{class:"raindrop"}),s.a.createElement("div",{class:"raindrop"}),s.a.createElement("div",{class:"raindrop"}),s.a.createElement("div",{class:"raindrop"}),s.a.createElement("div",{class:"raindrop"}),s.a.createElement("div",{class:"raindrop"}),s.a.createElement("div",{class:"raindrop"}),s.a.createElement("div",{class:"raindrop"}),s.a.createElement("div",{class:"raindrop"}))})):""!==this.state.city&&404!==this.state.shortForecast||(console.log("404 html loaded"),""===this.state.city&&""!==this.state.country?(console.log("first 404 case loaded"),this.setState({html:s.a.createElement("div",{id:"container"},s.a.createElement("div",{id:"city"},"NO CITY FOUND"),s.a.createElement("h1",null,"No weather data found(404)"),s.a.createElement("div",{id:"returncontainer"},s.a.createElement("button",{onClick:function(){t.props.formPageStatus(!0),t.setState({location:null,shortForecast:null,country:null})},id:"returnbutton"},"Return")))})):""!==this.state.city&&(console.log("second 404 case loaded"),this.setState({html:s.a.createElement("div",{id:"container"},s.a.createElement("div",{id:"city"},"City found: ",this.state.city),s.a.createElement("h1",null,"No weather data found(404)"),s.a.createElement("div",{id:"returncontainer"},s.a.createElement("button",{onClick:function(){t.props.formPageStatus(!0),t.setState({location:null,shortForecast:null,country:null})},id:"returnbutton"},"Return")))})))}},{key:"componentWillMount",value:function(){console.log("first mount"),console.log(this.state.location),this.runApis()}},{key:"componentWillUnmount",value:function(){this.setState({html:null,shortForecast:""})}},{key:"runApis",value:function(){var t=this;this.runGeoCodeApi().then(function(e){t.runWeatherApi(e)}),console.log(this.state.location),this.setState({loadingBarProgress:100})}},{key:"getLocation",value:function(){return console.log("get location"),this.props.location}},{key:"render",value:function(){var t=this;return console.log(this.props.location),404===this.state.shortForecast||""===this.state.city?(console.log("render first if loaded"),s.a.createElement("div",{id:"error"},"No weather data found",s.a.createElement("button",{onClick:function(){t.props.formPageStatus(!0),t.setState({location:null,shortForecast:null,country:null})},id:"returnbuttonerror"},"Return"))):null===this.props.location?null:!1===this.props.dataReady?(console.log("api running"),s.a.createElement("div",null,"LOADING")):null!==this.state.shortForecast?(console.log("render last else loaded"),s.a.createElement("div",{id:"container"},this.state.html,s.a.createElement("div",{id:"weatherblurb"},"Your weather in:"),s.a.createElement("div",{id:"city"},this.state.city),s.a.createElement("div",{id:"country"},this.state.country),s.a.createElement("div",{id:"shortForecast"},this.state.shortForecast),s.a.createElement("div",{id:"temperature"},this.state.temperature,"\xb0",s.a.createElement("span",{id:"temperatureunit"},this.state.temperatureUnit)),s.a.createElement("div",{id:"returncontainer"},s.a.createElement("button",{onClick:function(){t.props.formPageStatus(!0),t.setState({location:null,shortForecast:null,country:null})},id:"returnbutton"},"Return")))):s.a.createElement("div",{class:"mainpage"},s.a.createElement("div",{onClick:function(){t.changeDisplayLabelStatus(!0)},id:"entirepage"}),s.a.createElement("div",{id:"loadingBar"},"LOADING"),s.a.createElement("div",{id:"labelcontainer"},s.a.createElement("label",{id:"citylabel"},"Enter your location")),s.a.createElement("div",{id:"inputbox"},s.a.createElement("textarea",{disabled:!0,style:{fontSize:this.state.font,overflow:"hidden"},ref:this.inputbox,onClick:function(){t.changeDisplayLabelStatus(!1)},onChange:function(e){t.changeDisplayLabelStatus(!1,t),t.updateInput(e)},onBlur:function(){t.changeDisplayLabelStatus(!0)},autoFocus:!0,spellcheck:"false",id:"cityinput",type:"text",maxlength:"50"}),console.log(this.state.inputValue)),s.a.createElement("script",{src:"mainscript.js"}))}}]),e}(s.a.Component),f=function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(c.a)(this,Object(u.a)(e).call(this,t))).state={displayFormPage:!0,displayWeatherInformation:!1,inputValue:null,dataReady:!1},a.getFormSubmitStatus=a.getFormSubmitStatus.bind(Object(d.a)(a)),a.getInputValue=a.getInputValue.bind(Object(d.a)(a)),a.getFormPageStatus=a.getFormPageStatus.bind(Object(d.a)(a)),a.checkForDataReady=a.checkForDataReady.bind(Object(d.a)(a)),a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"getFormSubmitStatus",value:function(t){this.setState({displayFormPage:t})}},{key:"getInputValue",value:function(t){this.setState({inputValue:t})}},{key:"getFormPageStatus",value:function(t){this.setState({displayFormPage:t,inputValue:null}),!0===this.state.displayFormPage&&this.setState({inputValue:null})}},{key:"checkForDataReady",value:function(t){console.log("check if api data is ready to be displayed"),t&&this.setState({dataReady:!0})}},{key:"render",value:function(){return!0===this.state.displayFormPage?s.a.createElement(p,{displayStatus:this.getFormSubmitStatus,inputValue:this.getInputValue}):!1===this.state.displayFormPage&&null!==this.state.inputValue?(console.log(this.state.inputValue),s.a.createElement(v,{location:this.state.inputValue,dataReady:this.checkForDataReady,displayTemplate:this.state.dataReady,formPageStatus:this.getFormPageStatus})):null}}]),e}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}],[[13,1,2]]]);
//# sourceMappingURL=main.84564d42.chunk.js.map