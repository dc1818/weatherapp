(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,a){},13:function(t,e,a){t.exports=a(24)},20:function(t,e,a){},24:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),s=a(12),o=a.n(s),r=(a(10),a(4)),l=a(5),c=a(8),u=a(6),p=a(1),d=a(7),h=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(c.a)(this,Object(u.a)(e).call(this,t))).state={displayLabel:!0,enterTyped:!1,displayformPage:!0,inputValue:""},a.checkForEnter=a.checkForEnter.bind(Object(p.a)(a)),a.changeDisplayLabelStatus=a.changeDisplayLabelStatus.bind(Object(p.a)(a)),a.updateInput=a.updateInput.bind(Object(p.a)(a)),a.inputbox=i.a.createRef(),a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.mounted=!0,document.addEventListener("keydown",this.checkForEnter),console.log(this.props.displayStatus),a(10)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.checkForEnter)}},{key:"checkForEnter",value:function(t){13===t.keyCode&&""!==this.state.inputValue?(this.setState({enterTyped:!0,displayFormPage:!1}),this.props.displayStatus(!1),this.props.inputValue(this.state.inputValue),console.log(this.state.enterTyped)):this.inputbox.current.focus()}},{key:"changeDisplayLabelStatus",value:function(t){""===this.state.inputValue&&this.setState({displayLabel:!0}),this.setState({displayLabel:t})}},{key:"updateInput",value:function(t){this.state.inputValue.length>15?(this.setState({font:"400%"}),console.log(this.state.inputValue.length)):0===this.state.inputValue.length&&this.setState({font:"1000%"}),this.setState({inputValue:t.target.value})}},{key:"render",value:function(){var t,e=this;return!0===this.state.displayLabel&&(t=i.a.createElement("label",{id:"citylabel"},"Enter your location")),i.a.createElement("div",{class:"mainpage"},i.a.createElement("div",{id:"pagetitle"},"Weather Finder"),i.a.createElement("div",{id:"myname"},"App by Dalton Cornwell"),i.a.createElement("div",{onClick:function(){e.changeDisplayLabelStatus(!0)},id:"entirepage"}),i.a.createElement("div",{id:"labelcontainer"},t),i.a.createElement("div",{id:"inputbox"},i.a.createElement("textarea",{style:{fontSize:this.state.font,overflow:"hidden"},ref:this.inputbox,onClick:function(){e.changeDisplayLabelStatus(!1)},onChange:function(t){e.changeDisplayLabelStatus(!1,e),e.updateInput(t)},onBlur:function(){e.changeDisplayLabelStatus(!0)},autoFocus:!0,spellcheck:"false",id:"cityinput",type:"text",maxlength:"50"}),console.log(this.state.inputValue)),i.a.createElement("script",{src:"mainscript.js"}))}}]),e}(i.a.Component),m=a(2),y=a.n(m),g=a(9);a(20),a(21);var b=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(c.a)(this,Object(u.a)(e).call(this,t))).state={shortForecast:null,location:a.props.location,html:i.a.createElement("div",null)},a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"runGeoCodeApi",value:function(){var t=Object(g.a)(y.a.mark(function t(){var e,a,n,i;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({loadingBarProgress:0}),t.next=3,fetch("http://www.mapquestapi.com/geocoding/v1/address?key=UnKAjeHAB6sFQGrli30eJCYQis96tuaO&location=".concat(this.props.location));case 3:return e=t.sent,t.next=6,e.json();case 6:return a=t.sent,t.next=9,a.results[0].locations[0];case 9:return n=t.sent,console.log(n),t.next=13,[n.displayLatLng.lat,n.displayLatLng.lng];case 13:return i=t.sent,this.setState({city:n.adminArea5,country:n.adminArea1}),t.abrupt("return",i);case 16:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"runWeatherApi",value:function(){var t=Object(g.a)(y.a.mark(function t(e){var a,n,i,s,o,r,l;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.weather.gov/points/".concat(e[0],",").concat(e[1]),{mode:"cors"});case 2:return a=t.sent,t.next=5,a.json();case 5:if(404!==(n=t.sent).status){t.next=12;break}console.log(n.status),this.setState({shortForecast:404}),this.props.dataReady(!0),t.next=28;break;case 12:return i=n.properties.forecast,t.next=15,fetch(i);case 15:return s=t.sent,t.next=18,s.json();case 18:return o=t.sent,t.next=21,o.properties.periods[0];case 21:return r=t.sent,console.log(r),l=r.shortForecast,this.setState({name:r.name,shortForecast:l,temperature:r.temperature,temperatureUnit:r.temperatureUnit,windDirection:r.windDirection,windSpeed:r.windSpeed}),this.props.dataReady(!0),console.log(this.state),t.abrupt("return",r);case 28:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){console.log("first mount"),console.log(this.state.location),this.runApis()}},{key:"componentWillUnmount",value:function(){this.setState({html:null,shortForecast:""})}},{key:"runApis",value:function(){var t=this;this.runGeoCodeApi().then(function(e){t.runWeatherApi(e)}),console.log(this.state.location),this.setState({loadingBarProgress:100})}},{key:"getLocation",value:function(){return console.log("get location"),this.props.location}},{key:"render",value:function(){var t=this;return console.log(this.props.location),404===this.state.shortForecast||""===this.state.city?(console.log("render first if loaded"),i.a.createElement("div",{id:"error"},"No weather data found",i.a.createElement("button",{onClick:function(){t.props.formPageStatus(!0),t.setState({location:null,shortForecast:null,country:null})},id:"returnbuttonerror"},"Return"))):null===this.props.location?null:!1===this.props.dataReady?(console.log("api running"),i.a.createElement("div",null,"LOADING")):null!==this.state.shortForecast?(console.log("render last else loaded"),i.a.createElement("div",{id:"container"},this.state.html,i.a.createElement("div",{id:"weatherblurb"},"Your weather in:"),i.a.createElement("div",{id:"city"},this.state.city),i.a.createElement("div",{id:"country"},this.state.country),i.a.createElement("div",{id:"shortForecast"},this.state.shortForecast),i.a.createElement("div",{id:"temperature"},this.state.temperature,"\xb0",i.a.createElement("span",{id:"temperatureunit"},this.state.temperatureUnit)),i.a.createElement("div",{id:"returncontainer"},i.a.createElement("button",{onClick:function(){t.props.formPageStatus(!0),t.setState({location:null,shortForecast:null,country:null})},id:"returnbutton"},"Return")))):i.a.createElement("div",{class:"mainpage"},i.a.createElement("div",{onClick:function(){t.changeDisplayLabelStatus(!0)},id:"entirepage"}),i.a.createElement("div",{id:"loadingBar"},"LOADING"),i.a.createElement("div",{id:"labelcontainer"},i.a.createElement("label",{id:"citylabel"},"Enter your location")),i.a.createElement("div",{id:"inputbox"},i.a.createElement("textarea",{disabled:!0,style:{fontSize:this.state.font,overflow:"hidden"},ref:this.inputbox,onClick:function(){t.changeDisplayLabelStatus(!1)},onChange:function(e){t.changeDisplayLabelStatus(!1,t),t.updateInput(e)},onBlur:function(){t.changeDisplayLabelStatus(!0)},autoFocus:!0,spellcheck:"false",id:"cityinput",type:"text",maxlength:"50"}),console.log(this.state.inputValue)),i.a.createElement("script",{src:"mainscript.js"}))}}]),e}(i.a.Component),f=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(c.a)(this,Object(u.a)(e).call(this,t))).state={displayFormPage:!0,displayWeatherInformation:!1,inputValue:null,dataReady:!1},a.getFormSubmitStatus=a.getFormSubmitStatus.bind(Object(p.a)(a)),a.getInputValue=a.getInputValue.bind(Object(p.a)(a)),a.getFormPageStatus=a.getFormPageStatus.bind(Object(p.a)(a)),a.checkForDataReady=a.checkForDataReady.bind(Object(p.a)(a)),a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"getFormSubmitStatus",value:function(t){this.setState({displayFormPage:t})}},{key:"getInputValue",value:function(t){this.setState({inputValue:t})}},{key:"getFormPageStatus",value:function(t){this.setState({displayFormPage:t,inputValue:null}),!0===this.state.displayFormPage&&this.setState({inputValue:null})}},{key:"checkForDataReady",value:function(t){console.log("check if api data is ready to be displayed"),t&&this.setState({dataReady:!0})}},{key:"render",value:function(){return!0===this.state.displayFormPage?i.a.createElement(h,{displayStatus:this.getFormSubmitStatus,inputValue:this.getInputValue}):!1===this.state.displayFormPage&&null!==this.state.inputValue?(console.log(this.state.inputValue),i.a.createElement(b,{location:this.state.inputValue,dataReady:this.checkForDataReady,displayTemplate:this.state.dataReady,formPageStatus:this.getFormPageStatus})):null}}]),e}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[13,1,2]]]);
//# sourceMappingURL=main.de839f43.chunk.js.map